  "@pnp/adaljsclient": "^2.15.0",
https://github.com/pnp/pnpjs/blob/version-4/samples/spfx-react-components/src/webparts/pnPjs/PnPjsWebPart.ts

import { getSP as spInstance } from "./PnpConfigService";
import { Log } from "@microsoft/sp-core-library";

const getCurrentUser = async (): Promise<any> => {
  Log.warn("getCurrentUser", JSON.stringify(Object.keys(spInstance() || {})));
  if (spInstance) {
    return await spInstance().web.currentUser();
  }
  return {};
};
const getPermisos = async (idUser: number): Promise<any> => {
  return await spInstance().web.siteUsers.getById(idUser).groups;
};

const SharepointService = {
  getCurrentUser,
  getPermisos,
};

export default SharepointService;
